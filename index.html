<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Domain Search</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="container my-5">
      <h1 class="text-center">Domain Search</h1>
      <form id="search-form">
        <div class="input-group mb-3">
          <!-- Domain Name Input -->
          <input type="text" id="domain-name" class="form-control" placeholder="Enter domain name (e.g., name)" required>

          <!-- Dropdown for Domain Extensions -->
          <select id="domain-extension" class="form-select">
            <option value=".ee" data-price="8.37">.ee (€8.37)</option>
            <option value=".com" data-price="10.99">.com (€10.99)</option>
            <option value=".net" data-price="9.49">.net (€9.49)</option>
            <option value=".org" data-price="12.99">.org (€12.99)</option>
          </select>

          <!-- Search Button -->
          <button type="submit" class="btn btn-primary">Search</button>
        </div>
      </form>
      
      <!-- Result Message -->
      <div id="result-message" class="mt-3"></div>
    </div>

    <script>
      document.getElementById('search-form').addEventListener('submit', function (e) {
        e.preventDefault(); // Prevent form submission

        const domain = document.getElementById('domain-name').value.trim();
        const extension = document.getElementById('domain-extension').value;
        const price = document.querySelector(`#domain-extension option[value="${extension}"]`).getAttribute('data-price');

        // Simulated unavailable domains
        const unavailableDomains = ['name.ee', 'example.com'];

        // Validation: Ensure a domain name is entered
        if (!domain) {
          document.getElementById('result-message').innerHTML =
            '<div class="alert alert-warning">Please enter a domain name.</div>';
          return;
        }

        // Check domain availability
        if (unavailableDomains.includes(`${domain}${extension}`)) {
          document.getElementById('result-message').innerHTML =
            `<div class="alert alert-danger">${domain}${extension} is already registered.</div>`;
        } else {
          document.getElementById('result-message').innerHTML =
            `<div class="alert alert-success">${domain}${extension} is available! <strong>Price:</strong> €${price} <a href="info.html?domain=${domain}${extension}&price=${price}" class="btn btn-success btn-sm ms-2">Order</a></div>`;
        }
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
